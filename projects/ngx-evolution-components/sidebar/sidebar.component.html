<div class="layout">
  <header class="content__header">
    <div class="content__header-left">
      <evo-header
        classes="w-full"
        [icons]="commonProps.icons"
        [titles]="commonProps.titles"
        [buttonItems]="commonProps.buttonItems"
        [companyData]="commonProps.companyData"
        [box]="commonProps.box"
        [userData]="commonProps.userData"
      ></evo-header>
    </div>

    @if (isMobile) {
      <div
        class="content__header-right w-8 flex align-center justify-center items-center"
      >
        <evo-button
          mat-button
          [icon]="commonProps.icons.appIcon"
          [withoutBorder]="true"
          (click)="toggleSidebar()"
        ></evo-button>
      </div>
    }
  </header>

  @if (isSidebarOpen) {
    @if (isMobile) {
      <div class="sidebar sidebar--mobile sidebar--open">
        <div class="mobile-header">
          <div class="profile-img">
            <evo-avatar
              size="sm"
              [name]="avatarName"
              [imgUrl]="avatarImgUrl"
              [isPriority]="true"
            ></evo-avatar>
          </div>
          <div class="profile-info">
            <div class="name">Jonatan Elizalde Gómez</div>
            <div>Desarrollador Web</div>
          </div>
        </div>
        <nav class="sidebar__nav">
          <ul>
            @for (option of options; track option.title) {
              <li (click)="selectOption(option)">
                <evo-svg
                  class="w-4"
                  [svgPath]="option.icon.icon"
                  [classes]="
                    isActive(option.route)
                      ? 'sidebar__evo-button active'
                      : 'sidebar__evo-button'
                  "
                ></evo-svg>
                <span class="ml-4">{{ option.title }}</span>
              </li>
            }
          </ul>
        </nav>
        <div class="additional-options">
          <hr />
          <nav class="sidebar__nav">
            <ul>
              @for (option of additionalOptions; track option.title) {
                <li (click)="selectOption(option)">
                  <evo-svg
                    class="w-4"
                    [svgPath]="option.icon.icon"
                    [classes]="
                      isActive(option.route)
                        ? 'sidebar__evo-button active'
                        : 'sidebar__evo-button'
                    "
                  ></evo-svg>
                  <span class="ml-4">{{ option.title }}</span>
                </li>
              }
            </ul>
          </nav>
          <hr />
          <div class="logout" (click)="logout()">
            <div class="flex p-2">
              <evo-svg
                class="w-4"
                [svgPath]="'close.svg'"
                classes="sidebar__evo-button"
              ></evo-svg>
              <span class="ml-4">Cerrar sesión</span>
            </div>
          </div>
        </div>
      </div>
      <div class="sidebar__overlay" (click)="closeSidebar()"></div>
    }
  }

  @if (!isMobile) {
    <div class="sidebar sidebar--open items-center">
      <nav class="sidebar__nav">
        <header>
          @for (option of options; track option.title) {
            <div class="sidebar__options">
              <evo-button
                mat-button
                [icon]="option.icon"
                [withoutBorder]="true"
                (click)="selectOption(option)"
                [classes]="
                  isActive(option.route)
                    ? 'sidebar__evo-button active'
                    : 'sidebar__evo-button'
                "
              ></evo-button>
            </div>
          }
        </header>
      </nav>
    </div>
  }

  <div class="content">
    <main class="content__main">
      <ng-content></ng-content>
    </main>
  </div>
</div>
